(this["webpackJsonpgithub-issues-react"]=this["webpackJsonpgithub-issues-react"]||[]).push([[0],{19:function(e,t,n){},20:function(e,t,n){},21:function(e,t,n){},24:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(0),s=n.n(a),c=n(8),i=n.n(c),o=(n(19),n(9)),u=n(10),l=n(6),d=n(12),h=n(11);n(20);var b=n(28),j=n(25),p=n(26),g=n(27),m=function(e){var t=e.data,n=function(e){var t=6e4,n=36e5,r=24*n,a=30*r,s=365*r,c=Date.now()-e,i=function(e,t){var n=Math.round(c/e);return"".concat(n," ").concat(t).concat(n>1?"s":""," ago")};return c<t?i(1e3,"second"):c<n?i(t,"minute"):c<r?i(n,"hour"):c<a?i(r,"day"):c<s?i(a,"month"):i(s,"year")}(new Date(t.created_at)),a=t.user.login,c="#".concat(t.number," opened ").concat(n," by ").concat(a);return Object(r.jsx)(s.a.Fragment,{children:c})},f=function(e){var t=e.labels.map((function(e,t){return Object(r.jsx)("span",{style:{backgroundColor:"#"+e.color},className:"label",children:e.name},t)}));return Object(r.jsx)(s.a.Fragment,{children:t})},O=function(e){var t=e.currentIssues.map((function(e,t){return Object(r.jsx)("div",{children:Object(r.jsx)(j.a,{children:Object(r.jsx)("span",{"data-id":e.id,children:Object(r.jsxs)(p.a,{className:"py-2 border",children:[Object(r.jsx)(g.a,{md:1,children:Object(r.jsx)("i",{className:"fa fa-exclamation-circle fa-2x"})}),Object(r.jsxs)(g.a,{md:11,className:"issueDetails",children:[Object(r.jsx)("span",{className:"title",children:e.title}),Object(r.jsx)(f,{labels:e.labels}),Object(r.jsx)("br",{}),Object(r.jsx)("span",{className:"timestamp",children:Object(r.jsx)(m,{data:e})})]})]})})})},t)}));return Object(r.jsx)(s.a.Fragment,{children:t})},v={headers:{Authorization:"token e359ef605cbdf330a70659af7cbce43b2f3bce5c",Accept:"application/vnd.github.v3+json,application/vnd.github.machine-man-preview+json"}},x=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).state={user:r.props.user,repo:r.props.repo,listFilter:{state:"open",choice:"issues"},since:new Date(Date.now()-6048e5).toISOString(),per_page:10,sort:"created",page:"",currentPageNumber:1,currentPage:1,pages:{},issues:[],loading:!0,error:null,showBody:{}},r.getIssues=r.getIssues.bind(Object(l.a)(r)),r.handleClick=r.handleClick.bind(Object(l.a)(r)),r}return Object(u.a)(n,[{key:"handleClick",value:function(e){this.setState({currentPage:Number(e.target.id)})}},{key:"componentDidMount",value:function(){this.getIssues()}},{key:"getIssues",value:function(){var e=this,t=new Date(Date.now()-6048e5).toISOString(),n=function(e){var t=Object.keys(e);return t.length?"?"+t.map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&"):""}({state:this.state.listFilter.state,since:t,per_page:40,sort:"created"}),r="",a="".concat(this.props.user,"/").concat(this.props.repo,"/issues"),s="".concat("https://api.github.com/repos","/").concat(a).concat(n).concat(this.state.page);fetch(s,v).then((function(e){if(e.headers.get("Link")&&(r=function(e){if(0===e.length)throw new Error("input must not be of zero length");return e.split(/(?!\B"[^"]*),(?![^"]*"\B)/).reduce((function(e,t){var n=t.split(/(?!\B"[^"]*);(?![^"]*"\B)/);if(n.length<2)throw new Error("section could not be split on ';'");var r=n[0].replace(/<(.*)>/,"$1").trim();return e[n[1].replace(/rel="(.*)"/,"$1").trim()]=r,e}),{})}(e.headers.get("Link"))),e.ok)return e.json();throw new Error("Request failed.")})).then((function(t){e.setState({pages:r,issues:t,loading:!1,error:null,showBody:{}})})).catch((function(t){e.setState({loading:!1,error:t})}))}},{key:"renderLoading",value:function(){return Object(r.jsx)(b.a,{animated:!0,now:100})}},{key:"renderError",value:function(){return Object(r.jsxs)("div",{children:["Something is wrong: ",this.state.error.message]})}},{key:"renderIssues",value:function(){var e=this;if(this.state.error)return this.renderError();var t=this.state,n=t.issues,a=t.currentPage,c=t.per_page,i=function(e,t,n){var r=n*t,a=r-t;return e.slice(a,r)}(n,c,a),o=function(e,t){for(var n=[],r=1;r<=Math.ceil(e.length/t);r++)n.push(r);return n}(n,c).map((function(t){return t===a?Object(r.jsx)("button",{className:"btn btn-outline-primary pageBtn active mt-2 mb-2",id:t,onClick:e.handleClick,children:t},t):Object(r.jsx)("button",{className:"btn btn-outline-primary pageBtn mt-2 mb-2",id:t,onClick:e.handleClick,children:t},t)}));return Object(r.jsxs)(s.a.Fragment,{children:[Object(r.jsx)(O,{currentIssues:i}),o]})}},{key:"render",value:function(){return Object(r.jsx)("div",{className:"container",children:Object(r.jsxs)("nav",{className:"panel",children:[Object(r.jsx)("span",{children:"Open Github Issues"}),Object(r.jsx)("hr",{}),this.state.loading?this.renderLoading():this.renderIssues()]})})}}]),n}(s.a.Component);n(21);var k=function(){return Object(r.jsx)("div",{className:"App",children:Object(r.jsx)(x,{user:"facebook",repo:"react"})})},w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,29)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),s(e),c(e)}))};n(22),n(23);i.a.render(Object(r.jsx)(s.a.StrictMode,{children:Object(r.jsx)(k,{})}),document.getElementById("root")),w()}},[[24,1,2]]]);
//# sourceMappingURL=main.a4615480.chunk.js.map